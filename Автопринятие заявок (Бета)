@client.on(events.ChatAction)
async def handle_join_request(event):
    if event.user_joined:
        # Обработка вступивших участников
        return
        
    if hasattr(event, 'chat_join_request'):
        try:
            await event.approve()
            logger.info(f"Одобрена заявка от пользователя {event.user_id}")
        except Exception as e:
            logger.error(f"Ошибка при одобрении заявки: {e}")
